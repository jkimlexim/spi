<?php
/**
 * Binary Anvil, Inc.
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Binary Anvil, Inc. Software Agreement
 * that is bundled with this package in the file LICENSE_BAS.txt.
 * It is also available through the world-wide-web at this URL:
 * http://www.binaryanvil.com/software/license/
 *
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@binaryanvil.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this software to
 * newer versions in the future. If you wish to customize this software for
 * your needs please refer to http://www.binaryanvil.com/software for more
 * information.
 *
 * @category    BinaryAnvil
 * @package     Infinity
 * @copyright   Copyright (c) 2018-2019 Binary Anvil,Inc. (http://www.binaryanvil.com)
 * @license     http://www.binaryanvil.com/software/license
 */

?>
<div class="header-newsletter">
    <a href="#"><i class="icon-mail" aria-hidden="true"></i><span>Newsletter sign up</span></a>
</div>

<div class="newsletter-sign-up">
    <div class="wrapper">
        <div class="head">
            <i class="icon-mail" aria-hidden="true"></i><br>
            <p class="title"><?= __('Subscribe to'); ?><br><?= __('our newsletter'); ?></p>
            <p class="description"><?= __('Sign up for our exclusive offers, sale previews, style inspiration and much more.');?></p>
        </div>
        <div class="content">
            <form class="form subscribe"
                  novalidate
                  action="<?= $block->escapeUrl($block->getFormActionUrl()) ?>"
                  method="post"
                  data-mage-init='{"validation": {"errorClass": "mage-error"}}'
                  id="newsletter-validate-detail-2">
                <div class="field newsletter">
                    <div class="control">
                        <input name="email" type="email" id="newsletter-2"
                               placeholder="<?= $block->escapeHtmlAttr(__('enter email')) ?>"
                               data-validate="{required:true, 'validate-email':true}"/>
                    </div>
                </div>
                <div class="actions">
                    <button class="action subscribe primary" title="<?= $block->escapeHtmlAttr(__('Subscribe')) ?>" type="submit">
                        <span><?= $block->escapeHtml(__('Submit')) ?></span>
                    </button>
                </div>
                <p><?= __('By signing up, you agree to Infinity\'s')?> <a href="<?= /* @escapeNotVerified */ $block->getBaseUrl() . 'privacy-policy'?>">Privacy Policy</a> <?= __('and')?> <a
                            href="<?= /* @escapeNotVerified */ $block->getBaseUrl() . 'term-of-use'?>">Terms of Use</a></p>
            </form>
        </div>
    </div>
</div>

<script>
    require(['jquery','Magento_Ui/js/modal/modal'],function($,modal) {
            var options = {
                type: 'popup',
                responsive: true,
                innerScroll: true,
                buttons: false
            };

            var modalWindow = $('.newsletter-sign-up'),
            popup = modal(options, modalWindow);
            $(".header-newsletter a").on('click',function(e){
                e.preventDefault();
                modalWindow.modal("openModal");
            });
        }
    );
</script>
